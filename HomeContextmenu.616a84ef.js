import{N as e,o as t,b as a,h as i,O as o,a as s,g as r,u as l,z as n,R as p,l as m,_ as c,Q as d,V as u,t as f,J as w,K as j,L as h,C as _,x as b,q as g,k as x,e as v,D as k}from"./el-select.b78411e2.js";import y from"./d-contextmenu.5f999fa2.js";import{u as E,o as C,$ as A,c as O,S as D,e as S,b as V}from"./main.4e240c16.js";import{d as I}from"./index.8ba13591.js";import{g as M}from"./globalSearch.f99e35fa.js";import{c as T}from"./create_login.ce2c2443.js";import{S as L}from"./Search.4134401a.js";/* empty css                  */import"./el-dialog.64bc625d.js";import"./index.c511a369.js";import"./index.48a3615c.js";import"./isObject.a01dee34.js";import"./style.7be20351.js";import"./icon.e5ddc463.js";import"./index.389214ec.js";import"./index.d2069d58.js";import"./focus-trap.37f37187.js";import"./aria.66f3f71c.js";import"./index.9a99ea33.js";import"./index.502472ff.js";import"./error.7e8331f1.js";import"./scroll.64fda821.js";/* empty css                   */import"./el-form-item.adf4bc32.js";import"./index.e2562b21.js";import"./_baseClone.fe51b368.js";import"./_Uint8Array.e97e1f00.js";import"./_arrayPush.949d1e07.js";import"./_initCloneObject.73b0453a.js";import"./el-radio.83523f6e.js";import"./index.d0852ddf.js";import"./index.c6f50bb1.js";import"./axios.91e25212.js";import"./baseRequest.da51274f.js";import"./version.8d34b113.js";import"./d-button.aefa65bf.js";import"./public-api.7aa6cb2f.js";import"./website.a253acac.js";import"./index.77989186.js";/* empty css                */import"./Close.c8424ab4.js";import"./indexdb.57862a78.js";import"./localforage.60f13183.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./save_config.15a98e40.js";import"./debounce.abbfdaeb.js";import"./index.c7cdc822.js";import"./typescript.72bf8adc.js";import"./index.34bbf0a0.js";import"./index.4a61e9ca.js";/* empty css                   */import"./index.267059ee.js";import"./config-provider.551e79dd.js";/* empty css                        *//* empty css                       */import"./Refresh.3d26c42e.js";import"./index.6ce3651f.js";import"./throttle.0dfde511.js";import"./position.9519b900.js";import"./index.b2dab133.js";import"./validator.56de5fb2.js";const R={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},P=[i("g",{fill:"none"},[i("path",{d:"M10.5 2.75a.75.75 0 0 0-1.5 0V9H2.75a.75.75 0 0 0 0 1.5H9v6.25a.75.75 0 0 0 1.5 0V10.5h6.25a.75.75 0 0 0 0-1.5H10.5V2.75z",fill:"currentColor"})],-1)],H=e({name:"Add20Filled",render:function(e,i){return t(),a("svg",R,P)}}),F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},W=[o('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 17h2.397a5 5 0 0 0 4.096-2.133l.177-.253m3.66-5.227l.177-.254A5 5 0 0 1 17.603 7H21"></path><path d="M18 4l3 3l-3 3"></path><path d="M3 7h2.397a5 5 0 0 1 4.096 2.133l4.014 5.734A5 5 0 0 0 17.603 17H21"></path><path d="M18 20l3-3l-3-3"></path></g>',1)],z=e({name:"Switch3",render:function(e,i){return t(),a("svg",F,W)}}),N={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},B=[i("path",{d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81c-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42c-.54-52.67-42.32-96.81-95.08-96.81z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],G=e({name:"HeartOutline",render:function(e,i){return t(),a("svg",N,B)}}),q={style:{color:"#d1d1d1","font-size":"12px","min-width":"58px"}};const U=["onClick"],J={key:0,class:"home-menu-item"},K={class:"d-flex"},Q={key:1,class:"home-menu-item"},X={class:"item-icon d-icon"},Y={name:"home-contextmenu",components:{Add20Filled:H,Search:L,Setting:D,Switch3:z,HeartOutline:G,HomeContextmenuSearch:s({},[["render",function(e,i){return t(),a("span",q,"Ctrl+F")}]])}},Z=Object.assign(Y,{setup(e){const o=r(null),s=l(),{t:D}=E(),L=n({contextmenuData:[{name:D("addIcon"),key:"add",icon:"Add20Filled"},{name:"换壁纸",key:"switchWallpaper",icon:"Switch3"},{name:"本地搜索",key:"search",icon:"HomeContextmenuSearch"},{name:"立即备份",key:"backups",icon:"cloudy"},{name:D("setting"),key:"setting",icon:"setting"}]});p((()=>{C(A("#app-main"),"contextmenu",H)}));let R=s.value.wallpaper.time;if(R){let e=m.get("wallpaperSwitchTime"),t=(new Date).getTime();e+=36e5*R,e<t&&(P(),m.set("wallpaperSwitchTime",t))}async function P(){try{let e=await c((()=>import("./wallpaperDb.b72701e6.js")),["./wallpaperDb.b72701e6.js","./localforage.60f13183.js","./el-select.b78411e2.js","./el-select.b0658523.css","./_commonjs-dynamic-modules.30ae7933.js"],import.meta.url);e=e.default;let t=await e.keys();t=t.filter((e=>e.includes("bing_")||e.includes("wallpaper/list")||e.includes("unsplash_")||e.includes("wallhave_")||e.includes("wallpaper_")));let a=t[Math.floor(Math.random()*t.length)],i=await e.get(a);i=i||[];let o=i[Math.floor(Math.random()*i.length)];s.value.wallpaper.src=o.raw,s.value.wallpaper.thumb=o.thumb,s.value.wallpaper.type=1,c((()=>import("./save_config.15a98e40.js")),["./save_config.15a98e40.js","./public-api.7aa6cb2f.js","./el-select.b78411e2.js","./el-select.b0658523.css","./index.c6f50bb1.js","./axios.91e25212.js","./baseRequest.da51274f.js","./version.8d34b113.js","./website.a253acac.js","./index.77989186.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./Close.c8424ab4.js","./index.c15ec867.css","./el-icon.b1770749.css","./indexdb.57862a78.js","./localforage.60f13183.js","./_commonjs-dynamic-modules.30ae7933.js","./debounce.abbfdaeb.js"],import.meta.url).then((e=>{e.SAVE_CONFIG("baseConfig")}))}catch(e){c((()=>import("./wallpaper.ef9ff137.js")),["./wallpaper.ef9ff137.js","./baseRequest.da51274f.js","./el-select.b78411e2.js","./el-select.b0658523.css","./axios.91e25212.js","./version.8d34b113.js"],import.meta.url).then((e=>{e.randomWallpaperApi().then((e=>{let t=e.data||"";s.value.wallpaper.src=t||"",s.value.wallpaper.thumb=e.thumb||"",s.value.wallpaper.type=1,c((()=>import("./save_config.15a98e40.js")),["./save_config.15a98e40.js","./public-api.7aa6cb2f.js","./el-select.b78411e2.js","./el-select.b0658523.css","./index.c6f50bb1.js","./axios.91e25212.js","./baseRequest.da51274f.js","./version.8d34b113.js","./website.a253acac.js","./index.77989186.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./Close.c8424ab4.js","./index.c15ec867.css","./el-icon.b1770749.css","./indexdb.57862a78.js","./localforage.60f13183.js","./_commonjs-dynamic-modules.30ae7933.js","./debounce.abbfdaeb.js"],import.meta.url).then((e=>{e.SAVE_CONFIG("baseConfig")}))}))}))}}function H(e){e.preventDefault(),e.stopPropagation(),o.value.open(e)}function F(e){if(o.value.close(),"add"==e)S();else if("switchWallpaper"==e)P();else if("download"==e){let e=s.value.wallpaper;if(!e.src)return;I(e.src,e.name)}else if("setting"==e)V.visible=!0,V.active=2;else if("backups"==e){if(!m.get("token"))return void T("login");c((()=>import("./save_config.15a98e40.js")),["./save_config.15a98e40.js","./public-api.7aa6cb2f.js","./el-select.b78411e2.js","./el-select.b0658523.css","./index.c6f50bb1.js","./axios.91e25212.js","./baseRequest.da51274f.js","./version.8d34b113.js","./website.a253acac.js","./index.77989186.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./Close.c8424ab4.js","./index.c15ec867.css","./el-icon.b1770749.css","./indexdb.57862a78.js","./localforage.60f13183.js","./_commonjs-dynamic-modules.30ae7933.js","./debounce.abbfdaeb.js"],import.meta.url).then((e=>{e.SAVE_CONFIG(null,100,"manua")}))}else if("search"==e)M.value=!0;else if("collectWallpaper"==e){if(!m.get("token"))return T("login"),void c((()=>import("./index.267059ee.js")),["./index.267059ee.js","./el-select.b78411e2.js","./el-select.b0658523.css","./config-provider.551e79dd.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./index.e2562b21.js","./typescript.72bf8adc.js","./icon.e5ddc463.js","./index.389214ec.js","./aria.66f3f71c.js","./index.9a99ea33.js"],import.meta.url).then((e=>{e.ElMessage({type:"warning",message:"需要登陆后才能收藏壁纸",duration:2e3,showClose:!0})}));c((()=>import("./wallpaper.ef9ff137.js")),["./wallpaper.ef9ff137.js","./baseRequest.da51274f.js","./el-select.b78411e2.js","./el-select.b0658523.css","./axios.91e25212.js","./version.8d34b113.js"],import.meta.url).then((async e=>{let t={thumb:s.value.wallpaper.thumb,raw:s.value.wallpaper.src,type:s.value.wallpaper.type};e.wallLikeApi(t).then((e=>{c((()=>import("./index.267059ee.js")),["./index.267059ee.js","./el-select.b78411e2.js","./el-select.b0658523.css","./config-provider.551e79dd.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./index.e2562b21.js","./typescript.72bf8adc.js","./icon.e5ddc463.js","./index.389214ec.js","./aria.66f3f71c.js","./index.9a99ea33.js"],import.meta.url).then((async t=>{t.ElMessage({type:"success",message:e.msg,duration:3e3,dangerouslyUseHTMLString:!0,showClose:!0});let a=await c((()=>import("./wallpaperDb.b72701e6.js")),["./wallpaperDb.b72701e6.js","./localforage.60f13183.js","./el-select.b78411e2.js","./el-select.b0658523.css","./_commonjs-dynamic-modules.30ae7933.js"],import.meta.url);a=a.default;let i=await a.keys();i=i.filter((e=>e.includes("wallpaper/collect/list"))),i.forEach((e=>{a.remove(e)}))}))}))}))}}return d((()=>{O(A("#app-main"),"contextmenu",H)})),(e,s)=>{const r=u("download");return t(),f(y,{uid:"home_5dwx",data:L.contextmenuData,ref_key:"refContextmenu",ref:o},{default:w((()=>[(t(!0),a(j,null,h(L.contextmenuData,(e=>(t(),a("li",{key:e.key,onClick:t=>F(e.key),class:"d-contextmenu-item hover"},["switchWallpaper"===e.key?(t(),a("span",J,[_(b(e.name)+" ",1),i("span",K,[i("i",{title:"下载壁纸",onClick:s[0]||(s[0]=g((e=>F("download")),["stop"])),class:"wall-icon d-flex-center d-icon"},[x(r)]),i("i",{title:"收藏壁纸",onClick:s[1]||(s[1]=g((e=>F("collectWallpaper")),["stop"])),class:"wall-icon d-flex-center d-icon"},[x(v(G))])])])):(t(),a("span",Q,[_(b(e.name)+" ",1),i("i",X,[(t(),f(k(e.icon)))])]))],8,U)))),128))])),_:1},8,["data"])}}});export{Z as default};
