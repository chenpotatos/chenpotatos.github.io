import{N as e,o as i,t as a,k as o,a as t,g as s,G as n,u as l,_ as r,z as d,c,e as p,b as m,J as u,j as f,h as b,x as v,K as j,L as g,q as x,i as h,H as V,aU as k,a6 as _,C as y,I as z}from"./el-select.b78411e2.js";/* empty css                   *//* empty css                       *//* empty css                  *//* empty css                   *//* empty css                   *//* empty css                */import C from"./d-contextmenu.5f999fa2.js";import{D as w}from"./d-icon.cb7b438a.js";import H from"./sponsor.4a17c421.js";import{u as M,i as R,o as D,a as E,P as $,S as O,b as A,$ as U}from"./main.4e240c16.js";import{c as G}from"./create_login.ce2c2443.js";import{u as L}from"./baseRequest.da51274f.js";import{E as T}from"./index.c511a369.js";import{E as I}from"./index.c7cdc822.js";import{ElButton as P}from"./index.4a61e9ca.js";import{E as S}from"./index.7dcba947.js";import{ElMessage as q}from"./index.267059ee.js";import{E as B}from"./index.b2dab133.js";import"./el-dialog.64bc625d.js";import"./index.48a3615c.js";import"./isObject.a01dee34.js";import"./icon.e5ddc463.js";import"./index.389214ec.js";import"./index.d2069d58.js";import"./focus-trap.37f37187.js";import"./aria.66f3f71c.js";import"./style.7be20351.js";import"./index.9a99ea33.js";import"./index.502472ff.js";import"./error.7e8331f1.js";import"./scroll.64fda821.js";import"./el-form-item.adf4bc32.js";import"./index.e2562b21.js";import"./_baseClone.fe51b368.js";import"./_Uint8Array.e97e1f00.js";import"./_arrayPush.949d1e07.js";import"./_initCloneObject.73b0453a.js";import"./el-radio.83523f6e.js";import"./index.d0852ddf.js";import"./index.c6f50bb1.js";import"./axios.91e25212.js";import"./version.8d34b113.js";import"./d-button.aefa65bf.js";import"./public-api.7aa6cb2f.js";import"./website.a253acac.js";import"./index.77989186.js";import"./Close.c8424ab4.js";import"./indexdb.57862a78.js";import"./localforage.60f13183.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./save_config.15a98e40.js";import"./debounce.abbfdaeb.js";/* empty css                        */import"./Refresh.3d26c42e.js";import"./index.6ce3651f.js";import"./typescript.72bf8adc.js";import"./throttle.0dfde511.js";import"./index.34bbf0a0.js";import"./position.9519b900.js";import"./index.007a0b27.js";import"./config-provider.551e79dd.js";import"./validator.56de5fb2.js";var N=e({name:"HotWater"});const W={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},J=o("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067v68.267zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133zm273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133zM170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"},null,-1);N.render=function(e,o,t,s,n,l){return i(),a("svg",W,[J])},N.__file="packages/components/HotWater.vue";const K=N;var Y=e({name:"Menu"});const F={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Q=o("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1);Y.render=function(e,o,t,s,n,l){return i(),a("svg",F,[Q])},Y.__file="packages/components/Menu.vue";const X=Y,Z={key:0,class:"app-buttons"},ee={class:"app-sidebar-body"},ie=["src"],ae={key:0,class:"mt5 d-elip"},oe={class:"app-sidebar-group d-scrollbar-hide"},te=["onContextmenu","onMouseenter","onClick","onDragenter"],se=["title","id"],ne={class:"d-elip app-group-item-title"},le={class:"f13"},re={class:"app-group-icon"},de=["title","onClick"],ce={class:"mb5 mt5"},pe={class:"mt5"},me={class:"f20 d-icon",title:"支持一下"},ue={class:"icon-setting f20 d-icon d-pointer"},fe={name:"home-nav-group"},be=t(Object.assign(fe,{setup(e){const a=L(),{t:t}=M(),N=s(null),W=n(),J=l();let Y=!1;r((()=>import("./sortable.esm.bf8db74c.js").then((e=>e.s))),[],import.meta.url).then((e=>{e.default.create(N.value,{animation:150,onStart:function(e){Y=!0},onEnd:function(e){setTimeout((()=>{Y=!1}),10)}})}));const F=d({iconList:["home","xin","music","chat","office","entertainment","shop","app","code","learn","read","tool","zan","collect"],juanzhuVisible:!1,addVisible:!1,sideVisible:!1,contextmenuVisible:!1,contextmenuData:[{name:t("edit"),key:"edit",icon:"edit"},{name:t("remove"),key:"del",icon:"remove"}],dragData:null}),Q=d({name:"",icon:"xin",children:[]}),fe=s(null),be=s(null),ve=c((()=>J.value.sidebar.placement||"left")),je=c((()=>R||J.value.sidebar.autoHide)),ge=()=>{a.value.username?(A.visible=!0,A.active=1):G("reg")};let xe=0,he=0,Ve=s("add");function ke(e,i){1!=e.buttons||Y||k(i.id)}function _e(){if("add"==Ve.value)W.value.push({id:z("nav"),name:Q.name,icon:Q.icon,children:[{id:z(),url:"itab://add",type:"icon",name:"添加图标",src:"https://files.codelife.cc/icons/add.svg",backgroundColor:"#fff"}]});else{let e={...Q};W.value.splice(he,1,e)}F.addVisible=!1,Q.icon="xin",Q.name="",Q.children=[]}function ye(e){F.contextmenuVisible=!1;let i=W.value[he];if("edit"==e.key)Ve.value="edit",F.addVisible=!0,Q.id=i.id,Q.name=i.name,Q.icon=i.icon,Q.children=i.children,setTimeout((()=>{let e=be.value.popperRef.contentRef.style.transform;e=e.substring(e.indexOf("(")+1,e.indexOf(",")),be.value.popperRef.contentRef.style.transform=`translate3d(${e}, ${xe}px,0px)`}));else if("del"==e.key){if(1==W.value[he].id)return void q("此分组不能删除");B.confirm("此操作将会删除分组下的所有内容, 是否继续?","Tips",{center:!0,type:"warning"}).then((()=>{W.value.splice(he,1),i.id===V.value&&k(1)}))}}function ze(){A.visible=!0,A.active=2}function Ce(e){je.value&&(F.sideVisible=!0)}function we(e){je.value&&(F.addVisible||F.contextmenuVisible||(F.sideVisible=!1))}function He(){F.addVisible=!1,we()}return D(document,"mousedown",(function(e){var i,a;U(".v-contextmenu").contains(e.target)||(null==(i=U(".app-group-popover"))?void 0:i.contains(e.target))||(null==(a=U("#app-sidebar"))?void 0:a.contains(e.target))||(F.addVisible=!1,He())})),(e,s)=>"widget"==p(J).layout.view?(i(),m("div",{key:0,onMouseenter:Ce,onMouseleave:we,class:h(["app-sidebar",[`is-${p(ve)}`,{active:F.sideVisible},{"is-autoHide":p(je)}]]),id:"app-sidebar"},[p(R)?(i(),m("div",Z,[o(p(T),{onClick:Ce,icon:"icon-home",size:18},{default:u((()=>[o(p(X))])),_:1})])):f("",!0),b("div",ee,[b("div",{onClick:ge,class:"app-sidebar-avatar"},[b("img",{style:{width:"30px",height:"30px","border-radius":"50%","object-fit":"cover"},src:p(E)(p(a).avatar||"https://files.codelife.cc/itab.link/logo/avatar.png",40)},null,8,ie),p(a)._id?f("",!0):(i(),m("p",ae,v(p(t)("login")),1))]),b("div",oe,[b("ul",{class:"app-sidebar-ul",ref_key:"appSidebarRef",ref:N},[(i(!0),m(j,null,g(p(W),((e,a)=>(i(),m("li",{onContextmenu:x((e=>function(e,i){F.contextmenuVisible=!0,fe.value.open(e),he=i,xe=e.clientY-110}(e,a)),["prevent","stop"]),onMouseenter:i=>ke(i,e),class:h(["app-group-item",{active:e.id==p(V)}]),onClick:i=>p(k)(e.id),onDragenter:i=>ke(i,e),key:e.id},[b("div",{title:e.name,id:e.id},[o(w,{size:18,icon:`icon-${e.icon}`},null,8,["icon"]),b("p",ne,v(e.name),1)],8,se)],42,te)))),128))],512),o(p(S),{ref_key:"refGrouppopover",ref:be,"popper-class":"app-group-popover",placement:"left"==p(ve)?"right":"left",title:`${"add"==p(Ve)?p(t)("add"):p(t)("edit")}${p(t)("group")}`,width:260,trigger:"manual",visible:F.addVisible,"onUpdate:visible":s[2]||(s[2]=e=>F.addVisible=e)},{reference:u((()=>[b("li",{id:"appGroupAdd",class:"app-group-item",onClick:s[0]||(s[0]=e=>(F.addVisible=!F.addVisible,_(Ve)?Ve.value="add":Ve="add"))},[o(p(T),{size:16},{default:u((()=>[o(p($))])),_:1})])])),default:u((()=>[b("h5",le,v(p(t)("icon")),1),b("ul",re,[(i(!0),m(j,null,g(F.iconList,(e=>(i(),m("li",{title:e.name,class:h(["app-group-icon-item hover",{active:e==Q.icon}]),key:e,onClick:i=>Q.icon=e},[o(w,{class:"d-icon",icon:`icon-${e}`,size:16},null,8,["icon"])],10,de)))),128))]),b("h5",ce,v(p(t)("name")),1),o(p(I),{class:"app-group-input",size:"small",maxlength:"12",modelValue:Q.name,"onUpdate:modelValue":s[1]||(s[1]=e=>Q.name=e),placeholder:p(t)("name")},null,8,["modelValue","placeholder"]),b("div",pe,[o(p(P),{class:"mr10",type:"primary",size:"small",onClick:_e},{default:u((()=>[y(v(p(t)("save")),1)])),_:1}),o(p(P),{size:"small",onClick:He},{default:u((()=>[y(v(p(t)("cancel")),1)])),_:1})])])),_:1},8,["placement","title","visible"])]),b("div",{class:"d-flex-center mb5 d-pointer",onClick:s[3]||(s[3]=e=>F.juanzhuVisible=!0)},[b("i",me,[o(p(K))])]),o(H,{modelValue:F.juanzhuVisible,"onUpdate:modelValue":s[4]||(s[4]=e=>F.juanzhuVisible=e)},null,8,["modelValue"]),b("div",{id:"step2",class:"app-sidebar-setting d-flex-center",onClick:ze},[b("p",null,[b("i",ue,[o(p(O))])])])]),o(C,{uid:"homeNavGroup_81d8fg",onClick:ye,data:F.contextmenuData,ref_key:"refContextmenu",ref:fe},null,8,["data"])],34)):f("",!0)}}),[["__scopeId","data-v-f5cfc480"]]);export{be as default};
