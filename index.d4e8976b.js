import{_ as a}from"./d-dialog.04f0d663.js";import{N as e,o as s,b as i,h as t,a as l,g as n,bf as o,z as r,bm as c,l as d,d as p,w as m,R as f,Q as u,x as y,i as v,e as h,C as w,m as x,s as k,k as g,j,n as b,y as Y,t as _,J as z}from"./el-select.b78411e2.js";/* empty css                   */import{a4 as C,o as M,c as L}from"./main.4e240c16.js";import{yiyanInfoApi as A,yiyanLikeApi as D,yiyanShareApi as H}from"./yiyan.d9c9c2b9.js";import{ElMessage as V}from"./index.267059ee.js";import"./el-dialog.64bc625d.js";import"./index.c511a369.js";import"./index.48a3615c.js";import"./isObject.a01dee34.js";import"./style.7be20351.js";import"./icon.e5ddc463.js";import"./index.389214ec.js";import"./index.d2069d58.js";import"./focus-trap.37f37187.js";import"./aria.66f3f71c.js";import"./index.9a99ea33.js";import"./index.502472ff.js";import"./error.7e8331f1.js";import"./scroll.64fda821.js";/* empty css                   */import"./Close.c8424ab4.js";import"./baseRequest.da51274f.js";import"./axios.91e25212.js";import"./version.8d34b113.js";import"./config-provider.551e79dd.js";import"./index.e2562b21.js";import"./typescript.72bf8adc.js";const $={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},B=[t("g",{fill:"none"},[t("path",{d:"M3 5.25A2.25 2.25 0 0 1 5.25 3h1.865a.75.75 0 1 1 0 1.5H5.25a.75.75 0 0 0-.75.75v1.865a.75.75 0 1 1-1.5 0V5.25zm9.135-1.5a.75.75 0 0 1 .75-.75h1.865A2.25 2.25 0 0 1 17 5.25v1.865a.75.75 0 0 1-1.5 0V5.25a.75.75 0 0 0-.75-.75h-1.865a.75.75 0 0 1-.75-.75zM3.75 12.135a.75.75 0 0 1 .75.75v1.865c0 .414.336.75.75.75h1.865a.75.75 0 0 1 0 1.5H5.25A2.25 2.25 0 0 1 3 14.75v-1.865a.75.75 0 0 1 .75-.75zm12.5 0a.75.75 0 0 1 .75.75v1.865A2.25 2.25 0 0 1 14.75 17h-1.865a.75.75 0 0 1 0-1.5h1.865a.75.75 0 0 0 .75-.75v-1.865a.75.75 0 0 1 .75-.75z",fill:"currentColor"})],-1)],I=e({name:"FullScreenMaximize20Filled",render:function(a,e){return s(),i("svg",$,B)}}),F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},R=[t("g",{fill:"none"},[t("path",{d:"M12.82 5.58l-.82.822l-.824-.824a5.375 5.375 0 1 0-7.601 7.602l7.895 7.895a.75.75 0 0 0 1.06 0l7.902-7.897a5.376 5.376 0 0 0-.001-7.599a5.38 5.38 0 0 0-7.611 0zm6.548 6.54L12 19.485L4.635 12.12a3.875 3.875 0 1 1 5.48-5.48l1.358 1.357a.75.75 0 0 0 1.073-.012L13.88 6.64a3.88 3.88 0 0 1 5.487 5.48z",fill:"currentColor"})],-1)],q=e({name:"Heart24Regular",render:function(a,e){return s(),i("svg",F,R)}}),O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},S=[t("g",{fill:"none"},[t("path",{d:"M7.5 2A2.5 2.5 0 0 0 5 4.5v8A2.5 2.5 0 0 0 7.5 15h8a2.5 2.5 0 0 0 2.5-2.5v-8A2.5 2.5 0 0 0 15.5 2h-8zM17 4.5V5h-6.5a.5.5 0 0 1-.5-.5V3h5.5A1.5 1.5 0 0 1 17 4.5zm-8 0A1.5 1.5 0 0 0 10.5 6H17v6.5a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 6 12.5v-8A1.5 1.5 0 0 1 7.5 3H9v1.5zM12.5 18a2.5 2.5 0 0 0 2.45-2h-1.035a1.5 1.5 0 0 1-1.415 1H6a3 3 0 0 1-3-3V7.5a1.5 1.5 0 0 1 1-1.415V5.05A2.5 2.5 0 0 0 2 7.5V14a4 4 0 0 0 4 4h6.5z",fill:"currentColor"})],-1)],T=e({name:"TabDesktopCopy20Regular",render:function(a,e){return s(),i("svg",O,S)}}),J={class:"app-yiyan-body ac d-relative pt50",style:{"z-index":"1"}},N={class:"f14"},Q={class:"app-yiyan-text"},E={class:"app-yiyan-footer"},G={key:0,class:"yiyan-icon"},K={class:"f12 number"},P={class:"f12 number"},U=l({__name:"Content",setup(a){const e=n(null),{toggle:l,isFullscreen:_}=o(e),z=r({randomBg:c(7),isLikeClick:!1,isLike:!1,isFullScreen:!1,date:"",day:""}),$=n(d.get("app-yiyan")||{});var B;A(B).then((a=>{$.value=a.data||{}})),R();let F=null;function R(a=!1){let e=C[p().day()];a?(z.date=`${p().format("YYYY.MM.DD")} 星期${e}`,z.day=p().format("HH:mm:ss")):(z.date=`${p().format("YYYY.MM")} 星期${e}`,z.day=p().format("DD"))}function O(a){z.isLike=!1;let e=p($.value.date).valueOf();"next"==a?e+=864e5:e-=864e5;let s=p(e).format("YYYYMMDD");s>p().format("YYYYMMDD")?V.warning("明天怎么翻也翻不过去"):s<20220706?V.warning("不能再往前查看了"):A({date:s}).then((a=>{$.value=a.data||{},z.randomBg=c(7);let e=C[p($.value.date).day()];z.date=`${p($.value.date).format("YYYY.MM")} 星期${e}`,z.day=p($.value.date).format("DD")}))}function S(a){"F11"===a.code&&(a.preventDefault(),l())}function U(){z.isLike=!z.isLike,z.isLike&&(D({_id:$.value._id}).then((a=>{$.value=a.data||{},d.set("app-yiyan",a.data||{})})),z.isLikeClick=!0,setTimeout((()=>{z.isLikeClick=!1}),600))}function W(){Y($.value.content),V.success("已复制到剪贴板"),H({_id:$.value._id}).then((a=>{$.value=a.data||{}}))}return F&&clearInterval(F),m(_,(a=>{R(a),a?(F&&clearInterval(F),F=setInterval((()=>{R(a)}),1e3)):F&&clearInterval(F)})),f((()=>{M(document,"keydown",S)})),u((()=>{clearInterval(F),L(document,"keydown",S)})),(a,n)=>(s(),i("div",{ref_key:"yiyanRef",ref:e,class:"app-yiyan-wrap d-relative hfull",style:b(`background-image:url(https://files.codelife.cc/itab/widget/yiyan/${z.randomBg}.jpg?x-oss-process=image/resize,limit_0,m_fill,w_1920,h_1080/quality,q_90)`)},[t("div",J,[t("i",{class:"prev arrow-icon d-icon",onClick:n[0]||(n[0]=a=>O("prev"))}),t("i",{class:"next arrow-icon d-icon",onClick:n[1]||(n[1]=a=>O("next"))}),t("span",N,y(z.date),1),t("p",{class:v(["app-yiyan-day",{fullscreen:h(_)}])},y(z.day),3),t("p",Q,[w(y($.value.content)+" ",1),x(t("span",{class:"app-yiyan-author f12 d-block",style:{opacity:".4","font-weight":"400"}}," -"+y($.value.author),513),[[k,$.value.author]])]),t("p",E,[h(_)?j("",!0):(s(),i("span",G,[t("i",{title:"分享",onClick:W,class:"d-icon",style:{"font-size":"30px"}},[g(h(T))]),t("em",K,y($.value.share||0),1)])),t("span",{class:v(["yiyan-icon",{fullscreen:h(_)}])},[t("i",{class:"d-icon",title:"设为屏保",onClick:n[2]||(n[2]=(...a)=>h(l)&&h(l)(...a)),style:{"font-size":"30px"}},[g(h(I))])],2),h(_)?j("",!0):(s(),i("span",{key:1,class:v(["yiyan-icon yiyan-like",[{like:z.isLike},{click:z.isLikeClick}]])},[t("i",{title:"喜欢",class:"d-icon",style:{"font-size":"30px"},onClick:U},[g(h(q),{class:"heart"})]),t("em",P,y($.value.like||0),1)],2))])])],4))}},[["__scopeId","data-v-5469c35e"]]),W={__name:"index",setup:e=>(e,i)=>(s(),_(a,{width:"860px",height:"550px",destroyOnClose:!0},{default:z((()=>[g(U)])),_:1}))};export{W as default};
