import{aa as e,ap as a,ab as l,a5 as n,c as o,w as t,R as i,F as s,g as u,a9 as d,au as r,N as c,ai as b,o as m,t as v,J as h,h as p,i as f,e as x,m as k,b as g,a6 as y,b9 as C,S as L,K as B,C as S,x as I,j as E,D as F,n as w,ac as z,ad as j}from"./el-select.b78411e2.js";import{b as V,d as _,u as D}from"./index.e2562b21.js";import{U as N}from"./focus-trap.37f37187.js";import{e as O,_ as G,b as R,d as $,w as U,a as A}from"./index.c511a369.js";import{u as K,a as J}from"./index.d0852ddf.js";import{d as M}from"./error.7e8331f1.js";import{s as P,x as q,w as H,u as Q}from"./index.48a3615c.js";import{h as T}from"./hasIn.63fdf8ae.js";import{f as W}from"./flatten.a2fc3c9f.js";import{s as X,o as Y}from"./_overRest.38ce022a.js";function Z(e,a){return function(e,a,l){for(var n=-1,o=a.length,t={};++n<o;){var i=a[n],s=P(e,i);l(s,i)&&q(t,H(i,e),s)}return t}(e,a,(function(a,l){return T(e,l)}))}var ee;const ae=X(Y(ee=function(e,a){return null==e?{}:Z(e,a)},void 0,W),ee+""),le=Symbol("checkboxGroupContextKey"),ne={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:V,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},oe={[N]:n=>e(n)||a(n)||l(n),change:n=>e(n)||a(n)||l(n)},te=(e,{model:a,isLimitExceeded:l,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:r})=>{const c=n(le,void 0),{formItem:b}=K(),{emit:m}=s();function v(a){var l,n;return a===e.trueLabel||!0===a?null==(l=e.trueLabel)||l:null!=(n=e.falseLabel)&&n}const h=o((()=>(null==c?void 0:c.validateEvent)||e.validateEvent));return t((()=>e.modelValue),(()=>{h.value&&(null==b||b.validate("change").catch((e=>M())))})),{handleChange:function(e){if(l.value)return;const a=e.target;m("change",v(a.checked),e)},onClickRoot:async function(n){if(!l.value&&!u.value&&!d.value&&r.value){n.composedPath().some((e=>"LABEL"===e.tagName))||(a.value=v([!1,e.falseLabel].includes(a.value)),await i(),function(e,a){m("change",v(e),a)}(a.value,n))}}}},ie=(e,a)=>{const{formItem:t}=K(),{model:i,isGroup:c,isLimitExceeded:b}=(e=>{const a=u(!1),{emit:l}=s(),t=n(le,void 0),i=o((()=>!1===O(t))),r=u(!1);return{model:o({get(){var l,n;return i.value?null==(l=null==t?void 0:t.modelValue)?void 0:l.value:null!=(n=e.modelValue)?n:a.value},set(e){var n,o;i.value&&d(e)?(r.value=void 0!==(null==(n=null==t?void 0:t.max)?void 0:n.value)&&e.length>(null==t?void 0:t.max.value),!1===r.value&&(null==(o=null==t?void 0:t.changeEvent)||o.call(t,e))):(l(N,e),a.value=e)}}),isGroup:i,isLimitExceeded:r}})(e),{isFocused:m,isChecked:v,checkboxButtonSize:h,checkboxSize:p,hasOwnLabel:f}=((e,a,{model:t})=>{const i=n(le,void 0),s=u(!1),c=o((()=>{const a=t.value;return l(a)?a:d(a)?a.map(r).includes(e.label):null!=a?a===e.trueLabel:!!a}));return{checkboxButtonSize:D(o((()=>{var e;return null==(e=null==i?void 0:i.size)?void 0:e.value})),{prop:!0}),isChecked:c,isFocused:s,checkboxSize:D(o((()=>{var e;return null==(e=null==i?void 0:i.size)?void 0:e.value}))),hasOwnLabel:o((()=>!(!a.default&&!e.label)))}})(e,a,{model:i}),{isDisabled:x}=(({model:e,isChecked:a})=>{const l=n(le,void 0),t=o((()=>{var n,o;const t=null==(n=null==l?void 0:l.max)?void 0:n.value,i=null==(o=null==l?void 0:l.min)?void 0:o.value;return!O(t)&&e.value.length>=t&&!a.value||!O(i)&&e.value.length<=i&&a.value}));return{isDisabled:_(o((()=>(null==l?void 0:l.disabled.value)||t.value))),isLimitDisabled:t}})({model:i,isChecked:v}),{inputId:k,isLabeledByFormItem:g}=J(e,{formItemContext:t,disableIdGeneration:f,disableIdManagement:c}),{handleChange:y,onClickRoot:C}=te(e,{model:i,isLimitExceeded:b,hasOwnLabel:f,isDisabled:x,isLabeledByFormItem:g});return((e,{model:a})=>{e.checked&&(d(a.value)&&!a.value.includes(e.label)?a.value.push(e.label):a.value=e.trueLabel||!0)})(e,{model:i}),{inputId:k,isLabeledByFormItem:g,isChecked:v,isDisabled:x,isFocused:m,checkboxButtonSize:h,checkboxSize:p,hasOwnLabel:f,model:i,handleChange:y,onClickRoot:C}},se=["tabindex","role","aria-checked"],ue=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],de=["id","aria-hidden","disabled","value","name","tabindex"],re=c({name:"ElCheckbox"});var ce=G(c({...re,props:ne,emits:oe,setup(e){const a=e,l=b(),{inputId:n,isLabeledByFormItem:o,isChecked:t,isDisabled:i,isFocused:s,checkboxSize:u,hasOwnLabel:d,model:r,handleChange:c,onClickRoot:w}=ie(a,l),z=Q("checkbox");return(e,a)=>(m(),v(F(!x(d)&&x(o)?"span":"label"),{class:f([x(z).b(),x(z).m(x(u)),x(z).is("disabled",x(i)),x(z).is("bordered",e.border),x(z).is("checked",x(t))]),"aria-controls":e.indeterminate?e.controls:null,onClick:x(w)},{default:h((()=>[p("span",{class:f([x(z).e("input"),x(z).is("disabled",x(i)),x(z).is("checked",x(t)),x(z).is("indeterminate",e.indeterminate),x(z).is("focus",x(s))]),tabindex:e.indeterminate?0:void 0,role:e.indeterminate?"checkbox":void 0,"aria-checked":e.indeterminate?"mixed":void 0},[e.trueLabel||e.falseLabel?k((m(),g("input",{key:0,id:x(n),"onUpdate:modelValue":a[0]||(a[0]=e=>y(r)?r.value=e:null),class:f(x(z).e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,tabindex:e.tabindex,disabled:x(i),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:a[1]||(a[1]=(...e)=>x(c)&&x(c)(...e)),onFocus:a[2]||(a[2]=e=>s.value=!0),onBlur:a[3]||(a[3]=e=>s.value=!1)},null,42,ue)),[[C,x(r)]]):k((m(),g("input",{key:1,id:x(n),"onUpdate:modelValue":a[4]||(a[4]=e=>y(r)?r.value=e:null),class:f(x(z).e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:x(i),value:e.label,name:e.name,tabindex:e.tabindex,onChange:a[5]||(a[5]=(...e)=>x(c)&&x(c)(...e)),onFocus:a[6]||(a[6]=e=>s.value=!0),onBlur:a[7]||(a[7]=e=>s.value=!1)},null,42,de)),[[C,x(r)]]),p("span",{class:f(x(z).e("inner"))},null,2)],10,se),x(d)?(m(),g("span",{key:0,class:f(x(z).e("label"))},[L(e.$slots,"default"),e.$slots.default?E("v-if",!0):(m(),g(B,{key:0},[S(I(e.label),1)],64))],2)):E("v-if",!0)])),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const be=["name","tabindex","disabled","true-value","false-value"],me=["name","tabindex","disabled","value"],ve=c({name:"ElCheckboxButton"});var he=G(c({...ve,props:ne,emits:oe,setup(e){const a=e,l=b(),{isFocused:t,isChecked:i,isDisabled:s,checkboxButtonSize:u,model:d,handleChange:r}=ie(a,l),c=n(le,void 0),v=Q("checkbox"),h=o((()=>{var e,a,l,n;const o=null!=(a=null==(e=null==c?void 0:c.fill)?void 0:e.value)?a:"";return{backgroundColor:o,borderColor:o,color:null!=(n=null==(l=null==c?void 0:c.textColor)?void 0:l.value)?n:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}}));return(e,a)=>(m(),g("label",{class:f([x(v).b("button"),x(v).bm("button",x(u)),x(v).is("disabled",x(s)),x(v).is("checked",x(i)),x(v).is("focus",x(t))])},[e.trueLabel||e.falseLabel?k((m(),g("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=e=>y(d)?d.value=e:null),class:f(x(v).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:x(s),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:a[1]||(a[1]=(...e)=>x(r)&&x(r)(...e)),onFocus:a[2]||(a[2]=e=>t.value=!0),onBlur:a[3]||(a[3]=e=>t.value=!1)},null,42,be)),[[C,x(d)]]):k((m(),g("input",{key:1,"onUpdate:modelValue":a[4]||(a[4]=e=>y(d)?d.value=e:null),class:f(x(v).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:x(s),value:e.label,onChange:a[5]||(a[5]=(...e)=>x(r)&&x(r)(...e)),onFocus:a[6]||(a[6]=e=>t.value=!0),onBlur:a[7]||(a[7]=e=>t.value=!1)},null,42,me)),[[C,x(d)]]),e.$slots.default||e.label?(m(),g("span",{key:2,class:f(x(v).be("button","inner")),style:w(x(i)?x(h):void 0)},[L(e.$slots,"default",{},(()=>[S(I(e.label),1)]))],6)):E("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const pe=R({modelValue:{type:$(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:V,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),fe={[N]:e=>d(e),change:e=>d(e)},xe=c({name:"ElCheckboxGroup"});var ke=G(c({...xe,props:pe,emits:fe,setup(e,{emit:a}){const l=e,n=Q("checkbox"),{formItem:s}=K(),{inputId:u,isLabeledByFormItem:d}=J(l,{formItemContext:s}),r=async e=>{a(N,e),await i(),a("change",e)},c=o({get:()=>l.modelValue,set(e){r(e)}});return z(le,{...ae(j(l),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:r}),t((()=>l.modelValue),(()=>{l.validateEvent&&(null==s||s.validate("change").catch((e=>M())))})),(e,a)=>{var l;return m(),v(F(e.tag),{id:x(u),class:f(x(n).b("group")),role:"group","aria-label":x(d)?void 0:e.label||"checkbox-group","aria-labelledby":x(d)?null==(l=x(s))?void 0:l.labelId:void 0},{default:h((()=>[L(e.$slots,"default")])),_:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const ge=U(ce,{CheckboxButton:he,CheckboxGroup:ke});A(he);const ye=A(ke);export{ge as E,ye as a};
