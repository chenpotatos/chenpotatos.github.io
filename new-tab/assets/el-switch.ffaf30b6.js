import{ab as e,aa as a,ap as t,N as i,c as l,g as n,w as o,P as s,o as c,b as r,h as d,e as u,i as v,p,t as f,J as m,D as b,j as y,x as h,k as x,n as g,q as k,F as I,R as S,bh as C}from"./el-select.b78411e2.js";import{b as V,d as w,E as j,_ as T,w as B}from"./index.c511a369.js";import{l as _}from"./index.389214ec.js";import{i as E}from"./icon.e5ddc463.js";import{i as N}from"./validator.56de5fb2.js";import{U as P,C as F,I as K}from"./focus-trap.37f37187.js";import{u as U,a as q}from"./index.d0852ddf.js";import{u as z,d as A}from"./index.e2562b21.js";import{u as D}from"./index.48a3615c.js";import{a as J}from"./index.502472ff.js";import{a as R}from"./style.7be20351.js";import{d as G,t as H}from"./error.7e8331f1.js";const L=V({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:E},inactiveIcon:{type:E},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:w(Function)},size:{type:String,validator:N},tabindex:{type:[String,Number]}}),M={[P]:i=>e(i)||a(i)||t(i),[F]:i=>e(i)||a(i)||t(i),[K]:i=>e(i)||a(i)||t(i)},O=["onClick"],Q=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],W=["aria-hidden"],X=["aria-hidden"],Y=["aria-hidden"],Z=i({name:"ElSwitch"});const $=B(T(i({...Z,props:L,emits:M,setup(a,{expose:t,emit:i}){const V=a,w=I(),{formItem:T}=U(),B=z(),E=D("switch");J({from:'"value"',replacement:'"model-value" or "v-model"',scope:"ElSwitch",version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},l((()=>{var e;return!!(null==(e=w.vnode.props)?void 0:e.value)})));const{inputId:N}=q(V,{formItemContext:T}),L=A(l((()=>V.loading))),M=n(!1!==V.modelValue),Z=n(),$=n(),ee=l((()=>[E.b(),E.m(B.value),E.is("disabled",L.value),E.is("checked",ie.value)])),ae=l((()=>({width:R(V.width)})));o((()=>V.modelValue),(()=>{M.value=!0})),o((()=>V.value),(()=>{M.value=!1}));const te=l((()=>M.value?V.modelValue:V.value)),ie=l((()=>te.value===V.activeValue));[V.activeValue,V.inactiveValue].includes(te.value)||(i(P,V.inactiveValue),i(F,V.inactiveValue),i(K,V.inactiveValue)),o(ie,(e=>{var a;Z.value.checked=e,V.validateEvent&&(null==(a=null==T?void 0:T.validate)||a.call(T,"change").catch((e=>G())))}));const le=()=>{const e=ie.value?V.inactiveValue:V.activeValue;i(P,e),i(F,e),i(K,e),S((()=>{Z.value.checked=ie.value}))},ne=()=>{if(L.value)return;const{beforeChange:a}=V;if(!a)return void le();const t=a();[C(t),e(t)].includes(!0)||H("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),C(t)?t.then((e=>{e&&le()})).catch((e=>{})):t&&le()},oe=l((()=>E.cssVarBlock({...V.activeColor?{"on-color":V.activeColor}:null,...V.inactiveColor?{"off-color":V.inactiveColor}:null,...V.borderColor?{"border-color":V.borderColor}:null})));return s((()=>{Z.value.checked=ie.value})),t({focus:()=>{var e,a;null==(a=null==(e=Z.value)?void 0:e.focus)||a.call(e)},checked:ie}),(e,a)=>(c(),r("div",{class:v(u(ee)),style:g(u(oe)),onClick:k(ne,["prevent"])},[d("input",{id:u(N),ref_key:"input",ref:Z,class:v(u(E).e("input")),type:"checkbox",role:"switch","aria-checked":u(ie),"aria-disabled":u(L),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:u(L),tabindex:e.tabindex,onChange:le,onKeydown:p(ne,["enter"])},null,42,Q),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?y("v-if",!0):(c(),r("span",{key:0,class:v([u(E).e("label"),u(E).em("label","left"),u(E).is("active",!u(ie))])},[e.inactiveIcon?(c(),f(u(j),{key:0},{default:m((()=>[(c(),f(b(e.inactiveIcon)))])),_:1})):y("v-if",!0),!e.inactiveIcon&&e.inactiveText?(c(),r("span",{key:1,"aria-hidden":u(ie)},h(e.inactiveText),9,W)):y("v-if",!0)],2)),d("span",{ref_key:"core",ref:$,class:v(u(E).e("core")),style:g(u(ae))},[e.inlinePrompt?(c(),r("div",{key:0,class:v(u(E).e("inner"))},[e.activeIcon||e.inactiveIcon?(c(),f(u(j),{key:0,class:v(u(E).is("icon"))},{default:m((()=>[(c(),f(b(u(ie)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(c(),r("span",{key:1,class:v(u(E).is("text")),"aria-hidden":!u(ie)},h(u(ie)?e.activeText:e.inactiveText),11,X)):y("v-if",!0)],2)):y("v-if",!0),d("div",{class:v(u(E).e("action"))},[e.loading?(c(),f(u(j),{key:0,class:v(u(E).is("loading"))},{default:m((()=>[x(u(_))])),_:1},8,["class"])):y("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?y("v-if",!0):(c(),r("span",{key:1,class:v([u(E).e("label"),u(E).em("label","right"),u(E).is("active",u(ie))])},[e.activeIcon?(c(),f(u(j),{key:0},{default:m((()=>[(c(),f(b(e.activeIcon)))])),_:1})):y("v-if",!0),!e.activeIcon&&e.activeText?(c(),r("span",{key:1,"aria-hidden":!u(ie)},h(e.activeText),9,Y)):y("v-if",!0)],2))],14,O))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{$ as E};
