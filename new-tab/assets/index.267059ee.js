import{N as e,c as s,ap as t,o as a,b as o,S as n,k as r,J as l,m as u,h as i,i as p,e as d,x as c,s as m,ak as f,al as g,aP as y,g as v,P as x,w as b,aN as h,ah as C,t as j,n as k,j as N,D as T,K as _,q as w,aQ as S,aa as B,aR as I,ae as L,aC as M}from"./el-select.b78411e2.js";import{m as $}from"./config-provider.551e79dd.js";import{b as z,_ as E,w as D,d as H,E as U,i as q,g as O}from"./index.c511a369.js";import{u as R}from"./index.48a3615c.js";import{m as A}from"./typescript.72bf8adc.js";import{i as F,T as P,a as J}from"./icon.e5ddc463.js";import{E as K}from"./aria.66f3f71c.js";import{u as Q}from"./index.9a99ea33.js";import"./index.e2562b21.js";import"./style.7be20351.js";import"./isObject.a01dee34.js";import"./index.389214ec.js";const Z=z({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),G=["textContent"],V=e({name:"ElBadge"});const W=D(E(e({...V,props:Z,setup(e,{expose:g}){const y=e,v=R("badge"),x=s((()=>y.isDot?"":t(y.value)&&t(y.max)&&y.max<y.value?`${y.max}+`:`${y.value}`));return g({content:x}),(e,s)=>(a(),o("div",{class:p(d(v).b())},[n(e.$slots,"default"),r(f,{name:`${d(v).namespace.value}-zoom-in-center`,persisted:""},{default:l((()=>[u(i("sup",{class:p([d(v).e("content"),d(v).em("content",e.type),d(v).is("fixed",!!e.$slots.default),d(v).is("dot",e.isDot)]),textContent:c(d(x))},null,10,G),[[m,!e.hidden&&(d(x)||e.isDot)]])])),_:1},8,["name"])],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]])),X=["success","info","warning","error"],Y=A({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:g?document.body:void 0}),ee=z({customClass:{type:String,default:Y.customClass},center:{type:Boolean,default:Y.center},dangerouslyUseHTMLString:{type:Boolean,default:Y.dangerouslyUseHTMLString},duration:{type:Number,default:Y.duration},icon:{type:F,default:Y.icon},id:{type:String,default:Y.id},message:{type:H([String,Object,Function]),default:Y.message},onClose:{type:H(Function),required:!1},showClose:{type:Boolean,default:Y.showClose},type:{type:String,values:X,default:Y.type},offset:{type:Number,default:Y.offset},zIndex:{type:Number,default:Y.zIndex},grouping:{type:Boolean,default:Y.grouping},repeatNum:{type:Number,default:Y.repeatNum}}),se={destroy:()=>!0},te=y([]),ae=e=>{const{prev:s}=(e=>{const s=te.findIndex((s=>s.id===e)),t=te[s];let a;return s>0&&(a=te[s-1]),{current:t,prev:a}})(e);return s?s.vm.exposed.bottom.value:0},oe=["id"],ne=["innerHTML"],re=e({name:"ElMessage"});var le=E(e({...re,props:ee,emits:se,setup(e,{expose:t}){const g=e,{Close:y}=J,B=R("message"),I=v(),L=v(!1),M=v(0);let $;const z=s((()=>g.type?"error"===g.type?"danger":g.type:"info")),E=s((()=>{const e=g.type;return{[B.bm("icon",e)]:e&&P[e]}})),D=s((()=>g.icon||P[g.type]||"")),H=s((()=>ae(g.id))),q=s((()=>g.offset+H.value)),O=s((()=>M.value+q.value)),A=s((()=>({top:`${q.value}px`,zIndex:g.zIndex})));function F(){0!==g.duration&&({stop:$}=S((()=>{Z()}),g.duration))}function Q(){null==$||$()}function Z(){L.value=!1}return x((()=>{F(),L.value=!0})),b((()=>g.repeatNum),(()=>{Q(),F()})),h(document,"keydown",(function({code:e}){e===K.esc&&Z()})),C(I,(()=>{M.value=I.value.getBoundingClientRect().height})),t({visible:L,bottom:O,close:Z}),(e,s)=>(a(),j(f,{name:d(B).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:s[0]||(s[0]=s=>e.$emit("destroy")),persisted:""},{default:l((()=>[u(i("div",{id:e.id,ref_key:"messageRef",ref:I,class:p([d(B).b(),{[d(B).m(e.type)]:e.type&&!e.icon},d(B).is("center",e.center),d(B).is("closable",e.showClose),e.customClass]),style:k(d(A)),role:"alert",onMouseenter:Q,onMouseleave:F},[e.repeatNum>1?(a(),j(d(W),{key:0,value:e.repeatNum,type:d(z),class:p(d(B).e("badge"))},null,8,["value","type","class"])):N("v-if",!0),d(D)?(a(),j(d(U),{key:1,class:p([d(B).e("icon"),d(E)])},{default:l((()=>[(a(),j(T(d(D))))])),_:1},8,["class"])):N("v-if",!0),n(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(a(),o(_,{key:1},[N(" Caution here, message could've been compromised, never use user's input as message "),i("p",{class:p(d(B).e("content")),innerHTML:e.message},null,10,ne)],2112)):(a(),o("p",{key:0,class:p(d(B).e("content"))},c(e.message),3))])),e.showClose?(a(),j(d(U),{key:2,class:p(d(B).e("closeBtn")),onClick:w(Z,["stop"])},{default:l((()=>[r(d(y))])),_:1},8,["class","onClick"])):N("v-if",!0)],46,oe),[[m,L.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let ue=1;const ie=e=>{const s=!e||B(e)||I(e)||L(e)?{message:e}:e,t={...Y,...s};if(t.appendTo){if(B(t.appendTo)){let e=document.querySelector(t.appendTo);q(e)||(e=document.body),t.appendTo=e}}else t.appendTo=document.body;return t},pe=({appendTo:e,...s},t)=>{const{nextZIndex:a}=Q(),o="message_"+ue++,n=s.onClose,l=document.createElement("div"),u={...s,zIndex:a()+s.zIndex,id:o,onClose:()=>{null==n||n(),(e=>{const s=te.indexOf(e);if(-1===s)return;te.splice(s,1);const{handler:t}=e;t.close()})(c)},onDestroy:()=>{M(null,l)}},i=r(le,u,L(u.message)||I(u.message)?{default:L(u.message)?u.message:()=>u.message}:null);i.appContext=t||de._context,M(i,l),e.appendChild(l.firstElementChild);const p=i.component,d={close:()=>{p.exposed.visible.value=!1}},c={id:o,vnode:i,vm:p,handler:d,props:i.component.props};return c},de=(e={},s)=>{if(!g)return{close:()=>{}};if(t($.max)&&te.length>=$.max)return{close:()=>{}};const a=ie(e);if(a.grouping&&te.length){const e=te.find((({vnode:e})=>{var s;return(null==(s=e.props)?void 0:s.message)===a.message}));if(e)return e.props.repeatNum+=1,e.props.type=a.type,e.handler}const o=pe(a,s);return te.push(o),o.handler};X.forEach((e=>{de[e]=(s={},t)=>{const a=ie(s);return de({...a,type:e},t)}})),de.closeAll=function(e){for(const s of te)e&&e!==s.props.type||s.handler.close()},de._context=null;const ce=O(de,"$message");export{ce as ElMessage,ce as default,Y as messageDefaults,se as messageEmits,ee as messageProps,X as messageTypes};
