import{a2 as e,a3 as s,l as t,d as r,_ as a}from"./el-select.b78411e2.js";import{a as o}from"./axios.91e25212.js";import{p as i}from"./version.8d34b113.js";let n="https://api.codelife.cc/";n="https://api.codelife.cc/";const c="https://api.codelife.cc/",m=e((()=>s("userInfo",{},{listenToStorageChanges:!1}))),p=m(),g=()=>{t.remove("token"),p.value={}};const l=async()=>{const e=r().valueOf().toString();return(await a((()=>import("./aes.706370ca.js").then((e=>e.a))),["./aes.706370ca.js","./el-select.b78411e2.js","./el-select.b0658523.css","./_commonjs-dynamic-modules.30ae7933.js"],import.meta.url)).encrypt(e,"itab1314").toString()},d=o.create({baseURL:"https://api.codelife.cc/",timeout:15e3});d.interceptors.request.use((async e=>{let s=t.get("token"),r=await l();return e.headers.signaturekey=r,e.headers.version=i.version,s&&(e.headers.token=s),"get"==e.method&&(e.params={lang:"cn",...e.params}),e}),(e=>{Promise.reject(e)})),d.interceptors.response.use((e=>{const s=e.data;return 401==s.code?(g(),Promise.reject(s.msg)):500==s.code?(a((()=>import("./index.267059ee.js")),["./index.267059ee.js","./el-select.b78411e2.js","./el-select.b0658523.css","./config-provider.551e79dd.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./index.e2562b21.js","./typescript.72bf8adc.js","./icon.e5ddc463.js","./index.389214ec.js","./aria.66f3f71c.js","./index.9a99ea33.js"],import.meta.url).then((e=>{e.ElMessage({type:"error",message:s.msg,duration:3e3,dangerouslyUseHTMLString:!0,showClose:!0})})),Promise.reject(s.msg)):501==s.code?(a((()=>import("./index.267059ee.js")),["./index.267059ee.js","./el-select.b78411e2.js","./el-select.b0658523.css","./config-provider.551e79dd.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./index.e2562b21.js","./typescript.72bf8adc.js","./icon.e5ddc463.js","./index.389214ec.js","./aria.66f3f71c.js","./index.9a99ea33.js"],import.meta.url).then((e=>{e.ElMessage({type:"warning",message:s.msg,duration:3e3,dangerouslyUseHTMLString:!0,showClose:!0})})),Promise.reject(s.msg)):s}),(e=>Promise.reject(e)));const u=d;export{c as B,g as L,l as a,u as b,m as u};
