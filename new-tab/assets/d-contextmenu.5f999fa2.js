import{N as e,o as t,b as n,h as o,z as s,aV as i,w as l,c as a,Q as c,t as u,m as r,s as d,S as m,L as k,i as p,D as h,C as x,x as y,K as v,q as f,j as w,n as g,e as b,aJ as C}from"./el-select.b78411e2.js";import{o as j,c as O,C as H,D as L,L as S}from"./main.4e240c16.js";const X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Y=[o("path",{d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 64h112v112"},null,-1),o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M224 288L440 72"},null,-1)],$=e({name:"OpenOutline",render:function(e,o){return t(),n("svg",X,Y)}}),q=["id"],B=["onClick"],D={class:"item-icon d-icon"},E={key:0,class:"contextmenu-layout"},M=["onClick"],W={components:{CalendarEdit20Regular:H,Delete28Regular:L,OpenOutline:$,LayoutBoard:S}},A=Object.assign(W,{__name:"d-contextmenu",props:{data:{type:Array,default:()=>[]},active:String,uid:{required:!0,type:String}},emits:["click"],setup(e,{expose:H,emit:L}){const S=e,X=s({visible:!1,mouseX:0,mouseY:0,winWidth:0,winHeight:0}),{width:Y,height:$}=i();function W(e){X.visible&&(X.visible=!1)}function A(e){W(),L("click",e)}l((()=>X.visible),(e=>{e&&j(document,"click",W)}));const R=a((()=>({left:X.mouseX+"px",top:X.mouseY+"px"})));return H({open:async e=>{const t=document.getElementById(`menu${S.uid}`);document.querySelectorAll(".d-contextmenu.v-contextmenu").forEach((e=>{e.id!==`menu${S.uid}`?e.style.display="none":e.style.display="block"})),X.visible=!0;let n=e.clientX,o=e.clientY;n>=Y.value-t.offsetWidth&&(n=Y.value-t.offsetWidth),o>$.value-t.offsetHeight&&(o=$.value-t.offsetHeight),X.mouseX=n,X.mouseY=o},close:W}),c((()=>{O(document,"click",W),O(document,"contextmenu",W)})),(s,i)=>(t(),u(C,{to:"body"},[r(o("ul",{style:g(b(R)),class:"d-contextmenu v-contextmenu",id:`menu${e.uid}`},[m(s.$slots,"default",{},(()=>[(t(!0),n(v,null,k(e.data,(s=>(t(),n("li",{onClick:e=>A(s),class:p(["d-contextmenu-item",[{hover:"layout"!=s.key}]]),key:s.key},[o("i",D,[(t(),u(h(e.active==s.key?"check":s.icon)))]),x(" "+y(s.name)+" ",1),"layout"==s.key?(t(),n("p",E,[(t(),n(v,null,k(["1x1","1x2","2x1","2x2","2x4"],(t=>o("em",{onClick:f((e=>A(t)),["stop"]),class:p({active:t==e.active}),key:t},y(t),11,M))),64))])):w("",!0)],10,B)))),128))]))],12,q),[[d,X.visible]])]))}});export{A as default};
