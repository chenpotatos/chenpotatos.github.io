import{N as e,g as t,c as o,P as s,aN as n,o as a,t as i,J as l,m as r,h as c,i as u,e as p,n as f,D as d,j as m,x as y,S as g,b as v,K as b,s as h,q as C,k as x,ak as k,aQ as j,al as S,aR as T,aa as _,aC as E}from"./el-select.b78411e2.js";import{b as I,d as L,E as N,_ as H,i as M,g as w}from"./index.c511a369.js";import{i as B,T as z,C as $}from"./icon.e5ddc463.js";import{u as q}from"./index.48a3615c.js";import{E as O}from"./aria.66f3f71c.js";import{u as A}from"./index.9a99ea33.js";import"./style.7be20351.js";import"./index.389214ec.js";import"./isObject.a01dee34.js";const D=["success","info","warning","error"],F=I({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:B},id:{type:String,default:""},message:{type:L([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:L(Function),default:()=>{}},onClose:{type:L(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...D,""],default:""},zIndex:{type:Number,default:0}}),U={destroy:()=>!0},W=["id"],J=["textContent"],K={key:0},P=["innerHTML"],Q=e({name:"ElNotification"});var R=H(e({...Q,props:F,emits:U,setup(e,{expose:S}){const T=e,_=q("notification"),{Close:E}=$,I=t(!1);let L;const H=o((()=>{const e=T.type;return e&&z[T.type]?_.m(e):""})),M=o((()=>T.type&&z[T.type]||T.icon)),w=o((()=>T.position.endsWith("right")?"right":"left")),B=o((()=>T.position.startsWith("top")?"top":"bottom")),A=o((()=>({[B.value]:`${T.offset}px`,zIndex:T.zIndex})));function D(){T.duration>0&&({stop:L}=j((()=>{I.value&&U()}),T.duration))}function F(){null==L||L()}function U(){I.value=!1}return s((()=>{D(),I.value=!0})),n(document,"keydown",(function({code:e}){e===O.delete||e===O.backspace?F():e===O.esc?I.value&&U():D()})),S({visible:I,close:U}),(e,t)=>(a(),i(k,{name:p(_).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[1]||(t[1]=t=>e.$emit("destroy")),persisted:""},{default:l((()=>[r(c("div",{id:e.id,class:u([p(_).b(),e.customClass,p(w)]),style:f(p(A)),role:"alert",onMouseenter:F,onMouseleave:D,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[p(M)?(a(),i(p(N),{key:0,class:u([p(_).e("icon"),p(H)])},{default:l((()=>[(a(),i(d(p(M))))])),_:1},8,["class"])):m("v-if",!0),c("div",{class:u(p(_).e("group"))},[c("h2",{class:u(p(_).e("title")),textContent:y(e.title)},null,10,J),r(c("div",{class:u(p(_).e("content")),style:f(e.title?void 0:{margin:0})},[g(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(a(),v(b,{key:1},[m(" Caution here, message could've been compromised, never use user's input as message "),c("p",{innerHTML:e.message},null,8,P)],2112)):(a(),v("p",K,y(e.message),1))]))],6),[[h,e.message]]),e.showClose?(a(),i(p(N),{key:0,class:u(p(_).e("closeBtn")),onClick:C(U,["stop"])},{default:l((()=>[x(p(E))])),_:1},8,["class","onClick"])):m("v-if",!0)],2)],46,W),[[h,I.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Z={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let G=1;const V=function(e={},t=null){if(!S)return{close:()=>{}};("string"==typeof e||T(e))&&(e={message:e});const o=e.position||"top-right";let s=e.offset||0;Z[o].forEach((({vm:e})=>{var t;s+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),s+=16;const{nextZIndex:n}=A(),a="notification_"+G++,i=e.onClose,l={...e,zIndex:n(),offset:s,id:a,onClose:()=>{!function(e,t,o){const s=Z[t],n=s.findIndex((({vm:t})=>{var o;return(null==(o=t.component)?void 0:o.props.id)===e}));if(-1===n)return;const{vm:a}=s[n];if(!a)return;null==o||o(a);const i=a.el.offsetHeight,l=t.split("-")[0];s.splice(n,1);const r=s.length;if(r<1)return;for(let c=n;c<r;c++){const{el:e,component:t}=s[c].vm,o=Number.parseInt(e.style[l],10)-i-16;t.props.offset=o}}(a,o,i)}};let r=document.body;M(e.appendTo)?r=e.appendTo:_(e.appendTo)&&(r=document.querySelector(e.appendTo)),M(r)||(r=document.body);const c=document.createElement("div"),u=x(R,l,T(l.message)?{default:()=>l.message}:null);return u.appContext=null!=t?t:V._context,u.props.onDestroy=()=>{E(null,c)},E(u,c),Z[o].push({vm:u}),r.appendChild(c.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};D.forEach((e=>{V[e]=(t={})=>(("string"==typeof t||T(t))&&(t={message:t}),V({...t,type:e}))})),V.closeAll=function(){for(const e of Object.values(Z))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},V._context=null;const X=w(V,"$notify");export{X as ElNotification,X as default,U as notificationEmits,F as notificationProps,D as notificationTypes};
