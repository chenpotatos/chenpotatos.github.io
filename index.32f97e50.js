import{_ as e}from"./d-dialog.04f0d663.js";import{r as a,a as t,z as s,w as i,ax as l,o as r,b as o,h as n,k as d,e as c,p,j as m,m as f,J as h,K as u,L as b,t as j,x as g,C as v,A as x,B as k}from"./el-select.b78411e2.js";import{jidicOpenBrowseApi as w,jidicOpenSearch as y,jidicOpenRankApi as _}from"./jikipedia.e3468557.js";/* empty css                */import{E as A}from"./el-skeleton-item.ad47a992.js";/* empty css                        *//* empty css                  *//* empty css                */import{L as C}from"./index.389214ec.js";import D from"./indexdb.57862a78.js";import{E as S}from"./index.c7cdc822.js";import{E}from"./index.bb66dc83.js";import{ElImage as M}from"./index.6ce3651f.js";import{E as z}from"./index.c511a369.js";import{ElButton as B}from"./index.4a61e9ca.js";import"./el-dialog.64bc625d.js";import"./index.48a3615c.js";import"./isObject.a01dee34.js";import"./icon.e5ddc463.js";import"./index.d2069d58.js";import"./focus-trap.37f37187.js";import"./aria.66f3f71c.js";import"./style.7be20351.js";import"./index.9a99ea33.js";import"./index.502472ff.js";import"./error.7e8331f1.js";import"./scroll.64fda821.js";/* empty css                   */import"./main.4e240c16.js";import"./Close.c8424ab4.js";import"./baseRequest.da51274f.js";import"./axios.91e25212.js";import"./version.8d34b113.js";import"./localforage.60f13183.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./index.e2562b21.js";import"./typescript.72bf8adc.js";import"./index.34bbf0a0.js";import"./index.d0852ddf.js";import"./throttle.0dfde511.js";import"./debounce.abbfdaeb.js";import"./position.9519b900.js";var V={};Object.defineProperty(V,"__esModule",{value:!0});const L=a,O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},R=[(0,L.createElementVNode)("g",{fill:"none"},[(0,L.createElementVNode)("path",{d:"M11.25 8.5a4.75 4.75 0 0 0-4.75 4.75v15.5a4.75 4.75 0 0 0 4.75 4.75h3.25v7.838L25.603 33.5H36.75a4.75 4.75 0 0 0 4.75-4.75v-15.5a4.75 4.75 0 0 0-4.75-4.75h-25.5zM4 13.25A7.25 7.25 0 0 1 11.25 6h25.5A7.25 7.25 0 0 1 44 13.25v15.5A7.25 7.25 0 0 1 36.75 36H26.397l-10.85 7.658C14.057 44.71 12 43.644 12 41.82V36h-.75A7.25 7.25 0 0 1 4 28.75v-15.5z",fill:"currentColor"})],-1)];var H=V.default=(0,L.defineComponent)({name:"Comment48Regular",render:function(e,a){return(0,L.openBlock)(),(0,L.createElementBlock)("svg",O,R)}}),K={};Object.defineProperty(K,"__esModule",{value:!0});const N=a,J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},P=[(0,N.createElementVNode)("path",{d:"M24.832 16.969c-.272-.647-.582-1.38-.883-2.285c-.79-2.369 1.734-4.953 1.758-4.977l-1.414-1.414c-.14.14-3.423 3.478-2.242 7.023c.326.978.652 1.75.938 2.43A9.381 9.381 0 0 1 24 22a6.24 6.24 0 0 1-4.19 5.293a8.52 8.52 0 0 0-2.103-8l-1.044-1.044l-.582 1.357c-1.836 4.284-4.021 6.154-5.306 6.934A5.844 5.844 0 0 1 8 22a9.624 9.624 0 0 1 .929-3.629A11.333 11.333 0 0 0 10 14v-1.778c.874.36 2 1.303 2 3.778v2.603l1.743-1.934c3.112-3.454 2.463-7.567 1.206-10.308A4.486 4.486 0 0 1 18 11h2c0-5.537-4.579-7-7-7h-2l1.2 1.599c.137.185 2.862 3.927 1.353 7.688A4.943 4.943 0 0 0 9 10H8v4a9.624 9.624 0 0 1-.929 3.629A11.333 11.333 0 0 0 6 22c0 3.848 3.823 8 10 8s10-4.152 10-8a11.377 11.377 0 0 0-1.168-5.031zM12.835 27.526a16.499 16.499 0 0 0 4.367-5.598a6.105 6.105 0 0 1 .257 5.971A11.321 11.321 0 0 1 16 28a10.328 10.328 0 0 1-3.165-.474z",fill:"currentColor"},null,-1)];var $=K.default=(0,N.defineComponent)({name:"Fire",render:function(e,a){return(0,N.openBlock)(),(0,N.createElementBlock)("svg",J,P)}});const q={class:"app-jikipedia d-layout"},F={class:"d-layout-content d-cell pt10"},I={class:"d-flex-between",style:{"--bg-input":"var(--bg-card)"}},U={key:0,class:"mb5 ml5"},G={class:"d-auto-y",style:{height:"calc(100% - 40px)"}},Q={class:"wallScroll d-scrollbar hfull",style:{overflow:"auto"},"infinite-scroll-distance":"50","infinite-scroll-delay":"100","infinite-scroll-immediate":!1},T={class:"mb10 f16 b d-main"},W={class:"f13"},X={class:"jikipedia-item-imgs"},Y={class:"jikipedia-item-user mt10 d-flex-between"},Z=["href"],ee=["href"],ae={class:"ac"},te={class:"d-layout-aside ml10 mt10",style:{width:"220px"}},se={class:"pl10 pr10 pt20",style:{"background-color":"var(--bg-card)","border-radius":"6px"}},ie={class:"b f16 pb10 bb"},le={class:"mt10"},re=["href"],oe={class:"f14 d-elip"},ne={class:"f12 d-sub mt5 d-elip"},de=(e=>(x("data-v-5b09f788"),e=e(),k(),e))((()=>n("p",{class:"f12 d-sub"},[v(" 本页数据由 "),n("a",{style:{color:"#ffbc40"},href:"https://jikipedia.com/",target:"_blank"},"小鸡词典"),v("提供 ")],-1))),ce={name:"appJikipedia"},pe=t(Object.assign(ce,{setup(e){const a=s({listData:[],rankData:[],phrase:"",loading:!1,isSearch:!1,placeholder:""}),t={page:1,size:12};async function x(e){e?(t.page=1,a.loading=!0):t.page+=1;let s=`jidicList_${t.page}`;if(!a.isSearch){let t=await D.get(s);if(t)return a.listData=e?t:[...a.listData,...t],void(a.loading=!1)}let i=w(t);a.isSearch&&(t.phrase=a.phrase,i=y(t)),i.then((t=>{var i;let l=(null==(i=t.data)?void 0:i.data)||[];a.isSearch||D.set(s,l,18e5),a.listData=e?l:[...a.listData,...l]})).finally((()=>{a.loading=!1}))}function k(){a.phrase=""}function V(e){a.phrase||(a.phrase=a.placeholder),a.isSearch=!0,x(!0)}return x(!0),async function(){let e=await D.get("jidicRank");if(!e){let a=await _();e=a.data||[],D.set("jidicRank",e,12e5)}a.rankData=e;let t=Math.floor(Math.random()*a.rankData.length);a.placeholder=a.rankData[t].phrase}(),i((()=>a.phrase),(e=>{!e&&a.isSearch&&(a.isSearch=!1,x(!0))})),(e,t)=>{const s=l("infinite-scroll");return r(),o("div",q,[n("div",F,[n("div",I,[d(c(S),{"prefix-icon":c(C),onClear:k,clearable:"",onKeyup:p(V,["enter"]),style:{width:"320px"},placeholder:a.placeholder,class:"mb10",modelValue:a.phrase,"onUpdate:modelValue":t[0]||(t[0]=e=>a.phrase=e)},null,8,["prefix-icon","onKeyup","placeholder","modelValue"])]),a.isSearch?(r(),o("h3",U,"搜索结果:")):m("",!0),n("div",G,[f((r(),o("div",Q,[d(c(A),{loading:a.loading,rows:3,count:1,animated:""},{default:h((()=>[(r(!0),o(u,null,b(a.listData,(e=>(r(),j(c(E),{class:"mb10 jikipedia-item",key:e.id},{default:h((()=>[n("h2",T,g(e.texts[0].content),1),n("p",W,g(e.texts[1].content),1),n("ul",X,[(r(!0),o(u,null,b(e.images,((a,t)=>(r(),j(c(M),{"preview-teleported":"","hide-on-click-modal":"",fit:"cover","initial-index":t,previewSrcList:e.images.map((e=>e.path)),key:t,src:a.path},null,8,["initial-index","previewSrcList","src"])))),128))]),n("ul",Y,[(r(!0),o(u,null,b(e.users,(e=>(r(),o("a",{class:"d-sub f12",target:"_blank",key:e.id,href:e.path},g(e.name),9,Z)))),128)),n("a",{class:"d-sub f12 mr20",target:"_blank",href:e.path},[d(c(z),{size:18},{default:h((()=>[d(c(H))])),_:1})],8,ee)])])),_:2},1024)))),128))])),_:1},8,["loading"]),n("p",ae,[d(c(B),{onClick:t[1]||(t[1]=e=>x())},{default:h((()=>[v("加载更多")])),_:1})])])),[[s,x]])])]),n("div",te,[n("div",se,[n("h2",ie,[d(c(z),{color:"#fe2d46",style:{"vertical-align":"-1px"}},{default:h((()=>[d(c($))])),_:1}),v("热门搜索 ")]),n("ul",le,[(r(!0),o(u,null,b(a.rankData,((e,a)=>(r(),o("a",{href:`https://jikipedia.com/search?phrase=${e.phrase}`,target:"_blank",key:a,class:"mb10 bb pb5 jikiRank-item"},[n("i",null,g(a+1),1),n("span",null,[n("h2",oe,g(e.phrase),1),n("p",ne,g(e.desc),1)])],8,re)))),128))])]),de])])}}}),[["__scopeId","data-v-5b09f788"]]),me={__name:"index",setup:a=>(a,t)=>(r(),j(e,{destroyOnClose:!0},{default:h((()=>[d(pe)])),_:1}))};export{me as default};
