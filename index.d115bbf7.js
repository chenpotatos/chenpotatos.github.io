import{z as e,g as i,aK as t,ad as a,a as o,_ as l,au as s,V as n,o as d,t as r,J as m,k as c,h as p,b as f,K as u,L as b,i as j,D as g,C as x,x as v,j as y,A as h,B as w,b5 as F,bg as k}from"./el-select.b78411e2.js";import{s as _,q as V,r as E,t as z,f as C}from"./main.4e240c16.js";/* empty css                   *//* empty css                  */import{a as S,E as D}from"./el-form-item.adf4bc32.js";import{E as I}from"./el-date-picker.9b41eb5c.js";import{E as L,a as O,b as A}from"./el-main.d6d5f932.js";/* empty css                   */import{w as M,D as U}from"./widget-icon-item.ff82e37a.js";import{_ as H}from"./d-font-family.232aca90.js";import{D as P}from"./d-color.cc67d107.js";import{D as B}from"./d-tabs-x.666db9d0.js";import{b as T}from"./bg-select.e29b3474.js";import{K as W}from"./index.389214ec.js";import{l as Y}from"./index.0cf6696a.js";import{a as q}from"./addToDesk.73979dd0.js";import{_ as R}from"./d-scroll-x.f2cd1167.js";import{ElMessage as $}from"./index.267059ee.js";import{E as K}from"./index.c7cdc822.js";import{E as X,a as G}from"./index.60081c78.js";import{ElButton as J}from"./index.4a61e9ca.js";import{E as N}from"./index.7dcba947.js";import{c as Q}from"./cloneDeep.2ccdc48d.js";import{_ as Z}from"./d-dialog.04f0d663.js";import"./index.c511a369.js";import"./index.48a3615c.js";import"./isObject.a01dee34.js";import"./style.7be20351.js";import"./index.e2562b21.js";import"./error.7e8331f1.js";import"./index.502472ff.js";import"./_baseClone.fe51b368.js";import"./_Uint8Array.e97e1f00.js";import"./_arrayPush.949d1e07.js";import"./_initCloneObject.73b0453a.js";import"./panel-time-pick.d5c5b9e7.js";import"./index.007a0b27.js";import"./aria.66f3f71c.js";import"./focus-trap.37f37187.js";import"./index.9a99ea33.js";import"./index.d2069d58.js";import"./index.d0852ddf.js";import"./isEqual.7e5ed192.js";import"./_baseIsEqual.4b13025e.js";import"./index.9bab3cd4.js";import"./index.ada3624c.js";import"./debounce.abbfdaeb.js";import"./dayOfYear.268cbabe.js";import"./flatten.a2fc3c9f.js";import"./_baseFlatten.730083dc.js";import"./index.62a578ca.js";import"./baseRequest.da51274f.js";import"./axios.91e25212.js";import"./version.8d34b113.js";import"./el-dialog.64bc625d.js";import"./icon.e5ddc463.js";import"./scroll.64fda821.js";import"./throttle.0dfde511.js";import"./position.9519b900.js";import"./el-tooltip.89296c46.js";import"./d-slider.6264aa01.js";import"./el-input-number.1aa680ac.js";import"./save_config.15a98e40.js";import"./public-api.7aa6cb2f.js";import"./index.c6f50bb1.js";import"./website.a253acac.js";import"./index.77989186.js";/* empty css                */import"./Close.c8424ab4.js";import"./indexdb.57862a78.js";import"./localforage.60f13183.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./config-provider.551e79dd.js";import"./typescript.72bf8adc.js";import"./index.34bbf0a0.js";import"./strings.71c48fcd.js";import"./validator.56de5fb2.js";/* empty css                   */const ee=Object.assign({"./icon/icon.vue":V,"./icon/icon2.vue":E,"./icon/icon3.vue":z}),ie=[],te={};Object.keys(ee).forEach((e=>{let i=ee[e].default,t=i.props.data.default,a=`icon${t.icon||""}`;ie.push({icon:a,config:t}),te[a]=i}));const ae={name:"appDaysMatter",components:{...te,widgetIcon:M,DScrollX:R,bgSelect:T,DTabsX:B,ElContainer:L,ElAside:O,ElMain:A,DColor:P,DIconPanel:U,DFontFamily:H,ArrowLeftBold:W,ElMessage:$,ElInput:K,ElSelect:X,ElOption:G,ElButton:J,ElPopover:N,ElForm:S,ElFormItem:D,ElDatePicker:I},props:{isEdit:Boolean,row:{type:Object,default:{}}},setup(o,n){var d;o.row.config&&"4"==o.row.config.icon&&!o.row.config.repeatWeek&&(o.row.config.repeatWeek=[1,2,3,4,5]);const r=e({iconList:ie,editForm:Q(null==(d=ie[0])?void 0:d.config),wigetSize:"2x2",initSize:"2x2",isShrink:o.isEdit,eventVisible:!1}),m=i(),c=i();t(c,(e=>{r.eventVisible=!1}));o.isEdit&&(r.editForm=Q(o.row.config),"4"==o.row.config.icon&&(r.editForm.goWork=r.editForm.goWork||"2020-12-20 09:00:00",r.timeTarget=[r.editForm.goWork,r.editForm.target]));return{eventList:["和她❤️相爱已经","Ta的生日🎈还有","宝宝👶出生已经","情人节🧑🏻‍❤️‍🧑🏼还有","周末还有😃","周年纪念日🥂","聚餐🌮","还款日💰","排对🎉","父亲节👨","母亲节👩","考试✍️还有","面试🤝","看医生🧑‍⚕️"],...a(r),repeatList:[{label:"不重复",value:""},{label:"每周",value:"week"},{label:"每月",value:"month"},{label:"每年",value:"year"}],compHandle:e=>{r.editForm=Q(e.config),r.initSize=r.wigetSize},submitHandle:async(e,i)=>{if(C.visible=!!i,"edit"===e){for(let e in r.editForm)o.row.config[e]=r.editForm[e]||"";return $.success(`【${r.editForm.name}】修改成功`),void l((()=>import("./save_config.15a98e40.js")),["./save_config.15a98e40.js","./public-api.7aa6cb2f.js","./el-select.b78411e2.js","./el-select.b0658523.css","./index.c6f50bb1.js","./axios.91e25212.js","./baseRequest.da51274f.js","./version.8d34b113.js","./website.a253acac.js","./index.77989186.js","./index.c511a369.js","./index.48a3615c.js","./isObject.a01dee34.js","./style.7be20351.js","./Close.c8424ab4.js","./index.c15ec867.css","./el-icon.b1770749.css","./indexdb.57862a78.js","./localforage.60f13183.js","./_commonjs-dynamic-modules.30ae7933.js","./debounce.abbfdaeb.js"],import.meta.url).then((e=>{e.SAVE_CONFIG("navConfig")}))}let t={component:"daysMatter",name:"倒计时",size:r.initSize,type:"component",config:s(r.editForm)};q(t)},refEditForm:m,eventPopoverRef:c,bgHandle:function(e,i){i&&(r.editForm.textColor=i)},setDialogApp:_,lunarFormat:function(e){let i=Y.Lunar.fromDate(e.date);return{month:`${i.getMonthInChinese()}月`,day:i.getDayInChinese()}}}}},oe=e=>(h("data-v-d195caac"),e=e(),w(),e),le={style:{width:"314px"}},se=oe((()=>p("p",{class:"f12 mb10 d-sub",style:{"line-height":"14px"}}," 此列表为模板，选中后可修改文字和日期可以改变成任何类型的倒计时，添加后可以在桌面右键编辑/删除 ",-1))),ne=oe((()=>p("div",{class:"ml20 bt d-sub pt10"},"组件模板列表",-1))),de={class:"mt10"},re={class:"app-dayjs-theme"},me=["onClick"],ce={class:"app-dayjs-icon-item f12 d-flex-center"},pe={class:"d-sub"},fe=oe((()=>p("br",null,null,-1))),ue=oe((()=>p("br",null,null,-1))),be=oe((()=>p("br",null,null,-1))),je={style:{width:"570px",margin:"0 auto"}},ge={class:"d-icon"},xe={class:"ac"},ve={class:"mb10 f12",style:{"margin-top":"-10px"}},ye={class:"setting-ul"},he={class:"d-flex-between"},we={class:"d-relative"},Fe={class:"event-list"},ke=["onClick"],_e={class:"title"},Ve={class:"d-flex-between"},Ee=oe((()=>p("span",null,"组件名称",-1))),ze={class:""},Ce={class:"mt20 d-flex"};const Se=o({name:"daysMatter",components:{Content:o(ae,[["render",function(e,i,t,a,o,l){const s=n("d-tabs-x"),h=n("d-icon-panel"),w=n("d-button"),F=n("el-aside"),k=n("ArrowLeftBold"),_=n("widgetIcon"),V=n("el-input"),E=n("el-popover"),z=n("el-date-picker"),C=n("el-option"),S=n("el-select"),D=n("d-color"),I=n("bg-select"),L=n("d-font-family"),O=n("el-button"),A=n("el-main"),M=n("el-container");return d(),r(M,{class:"app-days",style:{"--icon-size":"50px","--icon-padding":"25px"}},{default:m((()=>[c(F,{onClick:i[2]||(i[2]=i=>e.isShrink=!1),style:{transition:"width 0.2s"},class:"app-days-aside",width:e.isShrink?"80px":"374px"},{default:m((()=>[p("div",le,[se,ne,p("div",de,[c(s,{style:{"--padding":"0 66px","--height":"28px"},modelValue:e.wigetSize,"onUpdate:modelValue":i[0]||(i[0]=i=>e.wigetSize=i),data:[{name:"2x2",id:"2x2"},{name:"2x4",id:"2x4"}]},null,8,["modelValue"])]),p("ul",re,[(d(!0),f(u,null,b(e.iconList,((i,t)=>(d(),f("div",{onClick:e=>a.compHandle(i),class:"app-dayjs-icon-item",key:t},[c(h,{class:j({active:e.editForm.icon==i.config.icon}),title:i.config.name,size:e.wigetSize},{default:m((()=>[(d(),r(g(i.icon),{size:e.wigetSize,data:i.config,ref_for:!0,ref:"refIcon"},null,8,["size","data"]))])),_:2},1032,["class","title","size"])],8,me)))),128)),p("div",ce,[p("span",pe,[x(" 【下班倒计时】"),fe,x(" 独立为单独组件"),ue,x("点击这里添加"),be,c(w,{onClick:i[1]||(i[1]=e=>a.setDialogApp({component:"countdown"})),type:"primary",size:"small",class:"mt10",round:""},{default:m((()=>[x("添加下班倒计时")])),_:1})])])])])])),_:1},8,["width"]),c(A,{class:j([{active:e.isShrink},"app-days-content"]),style:{"background-color":"var(--bg-info)",overflow:"visible"}},{default:m((()=>[p("div",je,[p("span",{onClick:i[3]||(i[3]=i=>e.isShrink=!e.isShrink),class:j([{active:e.isShrink},"shrink-btn d-flex-center d-pointer"])},[p("i",ge,[c(k)])],2),p("div",xe,[c(_,{class:"pb10",data:e.editForm,height:"170px",style:{"--icon-padding":"25px","--icon-size":"50px"},initSize:e.initSize,row:{component:"daysMatter",size:"2x2",type:"component",config:e.editForm}},null,8,["data","initSize","row"]),p("p",ve,v(e.editForm.name||"倒计时"),1)]),p("ul",ye,[p("li",he,[p("div",we,[c(V,{style:{width:"220px"},maxlength:"20",size:"small",placeholder:"自定义事件名称",modelValue:e.editForm.title,"onUpdate:modelValue":i[4]||(i[4]=i=>e.editForm.title=i)},null,8,["modelValue"]),c(E,{placement:"bottom",title:"常用事件",width:274,visible:e.eventVisible},{reference:m((()=>[p("button",{ref:"eventPopoverRef",onClick:i[5]||(i[5]=i=>e.eventVisible=!e.eventVisible),class:"f12 d-pointer use-event-btn",style:{color:"#1681ff"}}," 常用事件 ",512)])),default:m((()=>[p("ul",Fe,[(d(!0),f(u,null,b(a.eventList,(i=>(d(),f("span",{onClick:t=>e.editForm.title=i,key:i},v(i),9,ke)))),128))])])),_:1},8,["visible"])]),p("span",_e,[c(z,{"value-format":"YYYY-MM-DD",style:{width:"120px"},type:"date",size:"small",modelValue:e.editForm.target,"onUpdate:modelValue":i[6]||(i[6]=i=>e.editForm.target=i),clearable:!1},null,8,["modelValue"]),c(S,{class:"d-inline ml5",size:"small",style:{width:"80px"},modelValue:e.editForm.repeat,"onUpdate:modelValue":i[7]||(i[7]=i=>e.editForm.repeat=i),clearable:!1},{default:m((()=>[(d(!0),f(u,null,b(a.repeatList,(e=>(d(),r(C,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])]),p("li",Ve,[Ee,c(V,{style:{width:"204px"},maxlength:"20",size:"small",placeholder:"自定义图标名称",modelValue:e.editForm.name,"onUpdate:modelValue":i[8]||(i[8]=i=>e.editForm.name=i)},null,8,["modelValue"])]),p("li",ze,[c(D,{title:"字体颜色",colors:["#ffffff","#333333","#1890ff","#eb8197","#9de5fe","#b8ceff","#efabc4","#daccfd","#fceaba","#f4f7ca","#d0eabb"],modelValue:e.editForm.textColor,"onUpdate:modelValue":i[9]||(i[9]=i=>e.editForm.textColor=i)},null,8,["modelValue"])]),c(I,{onChange:a.bgHandle,modelValue:e.editForm,"onUpdate:modelValue":i[10]||(i[10]=i=>e.editForm=i)},null,8,["onChange","modelValue"]),p("li",null,[c(L,{title:"字体",modelValue:e.editForm.family,"onUpdate:modelValue":i[11]||(i[11]=i=>e.editForm.family=i)},null,8,["modelValue"])])]),p("div",Ce,[t.isEdit?(d(),r(w,{key:0,class:"wfull d-cell mr10",size:"default",color:"#1681ff",type:"primary",onClick:i[12]||(i[12]=e=>a.submitHandle("edit")),round:""},{default:m((()=>[x("修改完成")])),_:1})):y("",!0),c(O,{class:"wfull d-cell ml10",size:"default",onClick:i[13]||(i[13]=e=>a.submitHandle("add")),round:""},{default:m((()=>[x("添加")])),_:1}),t.isEdit?y("",!0):(d(),r(w,{key:1,class:"wfull",size:"default d-cell ml10",onClick:i[14]||(i[14]=e=>a.submitHandle("add",!0)),round:"",type:"primary"},{default:m((()=>[x("添加并继续")])),_:1}))])])])),_:1},8,["class"])])),_:1})}],["__scopeId","data-v-d195caac"]]),DDialog:Z}},[["render",function(e,i,t,a,o,l){const s=n("content"),p=n("d-dialog");return d(),r(p,{destroyOnClose:!0},{default:m((()=>[c(s,F(k(e.$attrs)),null,16)])),_:1})}]]);export{Se as default};
