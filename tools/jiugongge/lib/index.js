var _0x1f4e=['doing','getElementById','getContext','drawImage','canvasArr','image/jpg','.jpg','indexOf','generateAsync','blob','DEFLATE','#app','png','bmp','file','target','handle','type','fileReader','createImg','log','splitImg','readAsDataURL','onload','result','width','maxWidth','100%','img','onerror','src','height','push','forEach','drawImg'];(function(_0x3c3b32,_0x40e9fe){var _0x570cb4=function(_0x2d540f){while(--_0x2d540f){_0x3c3b32['push'](_0x3c3b32['shift']());}};_0x570cb4(++_0x40e9fe);}(_0x1f4e,0x169));var _0x1da3=function(_0x1c7bbc,_0x19bcd5){_0x1c7bbc=_0x1c7bbc-0x0;var _0x230a78=_0x1f4e[_0x1c7bbc];return _0x230a78;};new Vue({'el':_0x1da3('0x0'),'data':function(){return{'file':null,'type':0x3,'img':null,'maxWidth':0x4b0,'doing':![],'width':'100%','formatData':[_0x1da3('0x1'),'jpeg',_0x1da3('0x2')],'format':'png','canvasArr':[]};},'created':function(){},'methods':{'loadPic':function(_0x5aef99){this[_0x1da3('0x3')]=_0x5aef99[_0x1da3('0x4')]['files'][0x0];this[_0x1da3('0x5')]();},'draw':function(_0x44c2e3){this[_0x1da3('0x6')]=_0x44c2e3;this[_0x1da3('0x5')]();},'handle':async function(){if(!this[_0x1da3('0x3')]){return;}this['doing']=!![];try{let _0x31b224=await this[_0x1da3('0x7')](this['file']);await this[_0x1da3('0x8')](_0x31b224);}catch(_0x570eb8){console[_0x1da3('0x9')](_0x570eb8);this['doing']=![];return;}this['canvasArr']=[];this[_0x1da3('0xa')]();},'fileReader':function(_0xa4e410){return new Promise((_0x2bd4c9,_0x8a7312)=>{const _0x1179da=new FileReader();_0x1179da[_0x1da3('0xb')](_0xa4e410);_0x1179da[_0x1da3('0xc')]=_0xb258d3=>{const _0x46b6a0=_0xb258d3[_0x1da3('0x4')][_0x1da3('0xd')];_0x2bd4c9(_0x46b6a0);};_0x1179da['onerror']=_0x4ef455=>{_0x8a7312(_0x4ef455);};});},'createImg':function(_0x452d09){return new Promise((_0x3ed013,_0x10b9aa)=>{const _0x349b59=new Image();_0x349b59[_0x1da3('0xc')]=_0x230b1d=>{this[_0x1da3('0xe')]=_0x349b59['width']<this[_0x1da3('0xf')]?_0x349b59[_0x1da3('0xe')]+'px':_0x1da3('0x10');this[_0x1da3('0x11')]=_0x349b59;_0x3ed013();};_0x349b59[_0x1da3('0x12')]=_0x1a530c=>{_0x10b9aa(_0x1a530c);};_0x349b59[_0x1da3('0x13')]=_0x452d09;});},'splitImg':function(){let _0x5d277a=[];for(let _0x238079=0x0;_0x238079<this[_0x1da3('0x6')];_0x238079++){for(let _0x5e8181=0x0;_0x5e8181<this['type'];_0x5e8181++){let _0x357b30=parseInt(this[_0x1da3('0x11')][_0x1da3('0xe')]/this[_0x1da3('0x6')]);let _0x51fec5=parseInt(this[_0x1da3('0x11')][_0x1da3('0x14')]/this[_0x1da3('0x6')]);_0x5d277a[_0x1da3('0x15')]({'x':_0x5e8181*_0x357b30,'y':_0x238079*_0x51fec5,'width':_0x357b30,'height':_0x51fec5});}}_0x5d277a[_0x1da3('0x16')]((_0x57d185,_0x2efe32)=>{this[_0x1da3('0x17')](_0x57d185,_0x2efe32);});setTimeout(()=>{this[_0x1da3('0x18')]=![];},0x1f4);},'drawImg'(_0xe69754={},_0x122679){let _0x59bdaf=document[_0x1da3('0x19')]('img_'+_0x122679);if(!_0x59bdaf){return;}let _0x69f924=_0x59bdaf[_0x1da3('0x1a')]('2d');_0x59bdaf[_0x1da3('0xe')]=_0xe69754[_0x1da3('0xe')];_0x59bdaf[_0x1da3('0x14')]=_0xe69754[_0x1da3('0x14')];_0x69f924[_0x1da3('0x1b')](this[_0x1da3('0x11')],_0xe69754['x'],_0xe69754['y'],_0xe69754[_0x1da3('0xe')],_0xe69754['height'],0x0,0x0,_0xe69754['width'],_0xe69754[_0x1da3('0x14')]);this[_0x1da3('0x1c')][_0x1da3('0x15')](_0x59bdaf);},'down'(){let _0x469a87=new JSZip();console[_0x1da3('0x9')](this[_0x1da3('0x1c')]);for(let _0x3f82f4 in this[_0x1da3('0x1c')]){let _0x8306aa=this['canvasArr'][_0x3f82f4]['toDataURL'](_0x1da3('0x1d'));_0x469a87[_0x1da3('0x3')](_0x3f82f4+_0x1da3('0x1e'),_0x8306aa['substring'](_0x8306aa[_0x1da3('0x1f')](',')+0x1),{'base64':!![]});}_0x469a87[_0x1da3('0x20')]({'type':_0x1da3('0x21'),'compression':_0x1da3('0x22'),'compressionOptions':{'level':0x8}})['then'](_0xe0b0f=>{saveAs(_0xe0b0f,'下载.zip');});}}});